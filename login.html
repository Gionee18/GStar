<!DOCTYPE html>
<html ng-app="myApp">
<head>
    <script type = "text/javascript" >
   function preventBack(){window.history.forward();}
    setTimeout("preventBack()", 0);
    window.onunload=function(){null};
</script>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

	<title>GStar | Login</title>
	
	<!-- bootstrap -->
	<link rel="stylesheet" type="text/css" href="assets/css/bootstrap/bootstrap.min.css" />
	
	<!-- RTL support - for demo only -->
	<script src="assets/js/demo-rtl.js"></script>
	<!-- 
	If you need RTL support just include here RTL CSS file <link rel="stylesheet" type="text/css" href="css/libs/bootstrap-rtl.min.css" />
	And add "rtl" class to <body> element - e.g. <body class="rtl"> 
	-->
	
	<!-- libraries -->
	<link rel="stylesheet" type="text/css" href="assets/css/libs/font-awesome.css" />
	<link rel="stylesheet" type="text/css" href="assets/css/libs/nanoscroller.css" />
	<link rel="stylesheet" type="text/css" href="angular/css/toaster.min.css" />

	<!-- global styles -->
	<link rel="stylesheet" type="text/css" href="assets/css/compiled/theme_styles.css" />

	<!-- this page specific styles -->

	<!-- google font libraries -->
	<link href='//fonts.googleapis.com/css?family=Open+Sans:400,600,700,300|Titillium+Web:200,300,400' rel='stylesheet' type='text/css'>
	
	<!-- Favicon -->
	<link type="image/x-icon" href="assets/favicon.png" rel="shortcut icon"/>

	<!--[if lt IE 9]>
		<script src="js/html5shiv.js"></script>
		<script src="js/respond.min.js"></script>
	<![endif]-->
</head>
<body id="login-page" ng-controller="myCtrl">
<toaster-container></toaster-container>
	<div class="container">
		<div class="row">
			<div class="col-xs-12">
				<div id="login-box">
					<div id="login-box-holder">
						<div class="row">
							<div class="col-xs-12">
								<header id="login-header">
									<div id="login-logo">
										<img src="assets/img/logo.png" alt=""/>
									</div>
								</header>
								<div id="login-box-inner">
									<form ng-submit="loginSubmit()">
										<div class="input-group">
											<span class="input-group-addon"><i class="fa fa-user"></i></span>
											<input class="form-control" ng-model="userLogin.email" type="email" placeholder="Email address" required>
										</div>
										<div class="input-group">
											<span class="input-group-addon"><i class="fa fa-key"></i></span>
											<input type="password" ng-model="userLogin.password" class="form-control" placeholder="Password" required>
										</div>
										<div id="remember-me-wrapper">
											<div class="row">
												<div class="col-xs-6">
													<div class="checkbox-nice">
														<!-- <input type="checkbox" id="remember-me" checked="checked" />
														<label for="remember-me">
															Remember me
														</label> -->
													</div>
												</div>
												<a href="forgot-password.html" id="login-forget-link" class="col-xs-6">
													Forgot password?
												</a>
											</div>
										</div>
										<div class="row">
											<div class="col-xs-12">
												<button type="submit" class="btn btn-success col-xs-12">Login</button>
											</div>
										</div>
										
									</form>
								</div>
							</div>
						</div>
					</div>
					<p class="text-center text-muted mt-md mb-md">Copyright Â© 2016. Gionee Star version 2.2</p>
				</div>
			</div>
		</div>
	</div>
	
	<div id="config-tool" class="closed">
		<a id="config-tool-cog">
			<i class="fa fa-cog"></i>
		</a>
		
		<div id="config-tool-options">
			<h4>Layout Options</h4>
			<ul>
				<li>
					<div class="checkbox-nice">
						<input type="checkbox" id="config-fixed-header" />
						<label for="config-fixed-header">
							Fixed Header
						</label>
					</div>
				</li>
				<li>
					<div class="checkbox-nice">
						<input type="checkbox" id="config-fixed-sidebar" />
						<label for="config-fixed-sidebar">
							Fixed Left Menu
						</label>
					</div>
				</li>
				<li>
					<div class="checkbox-nice">
						<input type="checkbox" id="config-fixed-footer" />
						<label for="config-fixed-footer">
							Fixed Footer
						</label>
					</div>
				</li>
				<li>
					<div class="checkbox-nice">
						<input type="checkbox" id="config-boxed-layout" />
						<label for="config-boxed-layout">
							Boxed Layout
						</label>
					</div>
				</li>
				<li>
					<div class="checkbox-nice">
						<input type="checkbox" id="config-rtl-layout" />
						<label for="config-rtl-layout">
							Right-to-Left
						</label>
					</div>
				</li>
			</ul>
			<br/>
			<h4>Skin Color</h4>
			<ul id="skin-colors" class="clearfix">
				<li>
					<a class="skin-changer" data-skin="" data-toggle="tooltip" title="Default" style="background-color: #34495e;">
					</a>
				</li>
				<li>
					<a class="skin-changer" data-skin="theme-white" data-toggle="tooltip" title="White/Green" style="background-color: #2ecc71;">
					</a>
				</li>
				<li>
					<a class="skin-changer blue-gradient" data-skin="theme-blue-gradient" data-toggle="tooltip" title="Gradient">
					</a>
				</li>
				<li>
					<a class="skin-changer" data-skin="theme-turquoise" data-toggle="tooltip" title="Green Sea" style="background-color: #1abc9c;">
					</a>
				</li>
				<li>
					<a class="skin-changer" data-skin="theme-amethyst" data-toggle="tooltip" title="Amethyst" style="background-color: #9b59b6;">
					</a>
				</li>
				<li>
					<a class="skin-changer" data-skin="theme-blue" data-toggle="tooltip" title="Blue" style="background-color: #2980b9;">
					</a>
				</li>
				<li>
					<a class="skin-changer" data-skin="theme-red" data-toggle="tooltip" title="Red" style="background-color: #e74c3c;">
					</a>
				</li>
				<li>
					<a class="skin-changer" data-skin="theme-whbl" data-toggle="tooltip" title="White/Blue" style="background-color: #3498db;">
					</a>
				</li>
			</ul>
		</div>
	</div>
	
	<!-- global scripts -->
	<script src="assets/js/demo-skin-changer.js"></script> <!-- only for demo -->
	
	<script src="assets/js/jquery.js"></script>
	<script src="assets/js/bootstrap.min.js"></script>
	<script src="assets/js/jquery.nanoscroller.min.js"></script>
	
	<script src="assets/js/demo.js"></script> <!-- only for demo -->
	
	<!-- this page specific scripts -->
	
	<!-- data tables -->
	<script src="assets/js/jquery.dataTables.min.js"></script>
	<script src="assets/js/dataTables.fixedHeader.js"></script>
	<script src="assets/js/dataTables.tableTools.min.js"></script>
	<script src="assets/js/jquery.dataTables.bootstrap.js"></script>
	
	<!-- theme scripts -->
	<script src="assets/js/scripts.js"></script>
	
	<!-- this page specific inline scripts -->
	
	
	<!-- angular libs -->
	<script src="angular/lib/angular.min.js"></script>
	<script src="angular/lib/angular-route.min.js"></script>
	<script src="angular/lib/angular-animate.js"></script>
	<script src="angular/lib/loading-bar.js"></script>
	<script src="angular/lib/angular.easypiechart.min.js"></script>
	<script src="angular/lib/ngStorage.min.js"></script>
	<script src="angular/lib/toaster.min.js"></script>
	
	<script src="angular/custom/hsMessages.js"></script>
	<script src="angular/custom/hsConfig.js"></script>
	<!-- angular scripts -->
	<!-- <script src="angular/custom/app.js"></script>
	<script src="angular/custom/directives.js"></script>
	<script src="angular/custom/controllers.js"></script>
	<script src="angular/custom/users.js"></script>
	<script src="angular/custom/login.js"></script> -->
	
	<script>
	var app = angular.module('myApp', ['ngStorage','toaster']);
	app.controller('myCtrl', function($scope,$http,$localStorage,toaster,$location) {
		$scope.loginSubmit = function(){
			$localStorage.userData = {};
			
			$http.post(baseUrl + "login",$scope.userLogin)
			.success(function (response) {
				if(response.status == 'success'){
					$scope.userData = response.data;
					if($scope.userData.role != 40){
						$localStorage.userData = response.data;
						setTimeout(function(){ 
							window.location = siteUrl;
						}, 100);
					}else{
						toaster.pop("error",'In valid user.');
					}
				}else{
					toaster.pop("error",response.result.msg);
				}
				
			}).error(function(){
				toaster.pop("error",msg['0000']);
			});
		}
	});
	</script>
	
</body>
</html>